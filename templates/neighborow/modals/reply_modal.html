{# neighborow/modals/reply_modal.html #}
<div class="modal fade" id="{{ modal_id|default:'replyModal' }}" tabindex="-1" aria-labelledby="{{ modal_id|default:'replyModal' }}Label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="{{ modal_id|default:'replyModal' }}Label">Reply Message</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="{{ modal_id }}Close"></button>
      </div>
      <div class="modal-body">
        <form id="replyForm_{{ modal_id }}">
          <div class="mb-2 row">
            <label class="col-sm-4 col-form-label">
              {% if widget_type == "itemlist" %}
                Receiver Nickname
              {% else %}
                Sender Nickname
              {% endif %}
            </label>
            <div class="col-sm-8">
              <p id="replySenderNicknameDisplay_{{ modal_id }}" class="form-control-plaintext"></p>
              <input type="hidden" id="replySenderNickname_{{ modal_id }}" name="replySenderNickname">
            </div>
          </div>
          <div class="mb-2 row">
            <label class="col-sm-4 col-form-label">
              {% if widget_type == "itemlist" %}
                Receiver Flat No
              {% else %}
                Sender Flat No
              {% endif %}
            </label>
            <div class="col-sm-8">
              <p id="replySenderFlatDisplay_{{ modal_id }}" class="form-control-plaintext"></p>
              <input type="hidden" id="replySenderFlat_{{ modal_id }}" name="replySenderFlat">
            </div>
          </div>
          <div class="mb-2 row">
            <label class="col-sm-4 col-form-label">Title</label>
            <div class="col-sm-8">
              <p id="replyTitleDisplay_{{ modal_id }}" class="form-control-plaintext"></p>
              <input type="hidden" id="replyTitle_{{ modal_id }}" name="replyTitle">
            </div>
          </div>
          <!-- Additional fields for IDs and message -->
          <input type="hidden" id="replySenderId_{{ modal_id }}" name="replySenderId">
          <input type="hidden" id="replyReceiverId_{{ modal_id }}" name="replyReceiverId">
          <input type="hidden" id="replyMessageCode_{{ modal_id }}" name="replyMessageCode">
          <div class="mb-2">
            <label class="form-label">Message</label>
            <textarea class="form-control" id="replyText_{{ modal_id }}" name="replyText" rows="5"></textarea>
          </div>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-primary me-2" id="sendReply_{{ modal_id }}">Send</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="closeReply_{{ modal_id }}">Close</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
